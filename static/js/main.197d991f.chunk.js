(this["webpackJsonpfrosh-retreat"]=this["webpackJsonpfrosh-retreat"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/ignite.56afa82d.jpg"},15:function(e,t,a){e.exports=a(38)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(9),c=a.n(o),s=a(3),r=a(4),l=a(6),d=a(5),u=a(2),m=a(7),h=a(10),v=(a(34),function(e){function t(e){var a;return Object(s.a)(this,t),console.log("construct question"),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={overlay:"noclick"},a.onReady=a.onReady.bind(Object(u.a)(a)),a.onStateChange=a.onStateChange.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"onReady",value:function(e){console.log("video ready"),e.target.playVideo()}},{key:"onStateChange",value:function(e){console.log("video state change: "+e.data),this.props.callback(e.data);var t=0===e.data?"question":"noclick";this.setState({overlay:t})}},{key:"render",value:function(){console.log("render question"),console.log("state overlay = "+this.state.overlay);var e,t,a,n=this.props,o=n.question,c=n.vidurl;return a={playerVars:{autoplay:1,controls:0,disablekb:1,fs:0,modestbranding:1,rel:0,playsinline:1,showinfo:0,iv_load_policy:3}},e=i.a.createElement(h.a,{videoId:c.substring(17),opts:a,onReady:this.onReady,onStateChange:this.onStateChange}),"noclick"===this.state.overlay?t=i.a.createElement("div",{className:"embed-overlay"}):"question"===this.state.overlay&&(t=i.a.createElement("div",{className:"embed-overlay"},i.a.createElement("div",{className:"question"},o))),i.a.createElement("div",{id:"question-panel"},e,t)}}]),t}(i.a.Component)),f=(a(35),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(e){if(console.log("answer clicked, locked = "+this.props.lock),!this.props.lock){var t=e.target.id===this.props.answer;this.props.callback(t)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.answer,n=t.a,o=t.b,c=t.c,s=t.d;return t.lock?i.a.createElement("div",{id:"multiple-choice-container"},i.a.createElement("div",{className:"mc-row"},i.a.createElement("div",{className:"noselect answer "+("A"===a?"correct":"wrong"),id:"A",onClick:function(t){return e.handleClick(t)}},"(A) ",n),i.a.createElement("div",{className:"noselect answer "+("B"===a?"correct":"wrong"),id:"B",onClick:function(t){return e.handleClick(t)}},"(B) ",o)),i.a.createElement("div",{className:"mc-row"},i.a.createElement("div",{className:"noselect answer "+("C"===a?"correct":"wrong"),id:"C",onClick:function(t){return e.handleClick(t)}},"(C) ",c),i.a.createElement("div",{className:"noselect answer "+("D"===a?"correct":"wrong"),id:"D",onClick:function(t){return e.handleClick(t)}},"(D) ",s))):i.a.createElement("div",{id:"multiple-choice-container"},i.a.createElement("div",{className:"mc-row"},i.a.createElement("div",{className:"noselect answer",id:"A",onClick:function(t){return e.handleClick(t)}},"(A) ",n),i.a.createElement("div",{className:"noselect answer",id:"B",onClick:function(t){return e.handleClick(t)}},"(B) ",o)),i.a.createElement("div",{className:"mc-row"},i.a.createElement("div",{className:"noselect answer",id:"C",onClick:function(t){return e.handleClick(t)}},"(C) ",c),i.a.createElement("div",{className:"noselect answer",id:"D",onClick:function(t){return e.handleClick(t)}},"(D) ",s)))}}]),t}(i.a.Component)),k=a(13),g=a.n(k),p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).x=0,a.y=0,a.w=50,a.h=50,a.m=0,a.offset=20,a.paused=!1,a.mark=0,a.wait=1e3,a.degree=45,a.count=0,a.setup=function(e,t){var n=document.getElementsByClassName("embed-container")[0].offsetWidth,i=document.getElementsByClassName("embed-container")[0].offsetHeight;e.createCanvas(n,i).parent(t),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(e.width/25),a.x=e.width/2,a.y=e.height/2,a.w=e.width/4,a.h=e.width/4},a.draw=function(e){e.clear(),30===a.props.duration?e.fill(255,0,0,100):e.fill(0,255,0,100),e.ellipse(a.x,a.y,a.w,a.h),e.fill(0,0,255,100),e.arc(a.x,a.y,a.w,a.h,e.radians(0),e.radians(a.m)),e.fill(255,100),e.ellipse(a.x,a.y,a.w-a.offset,a.h-a.offset),e.fill(0),e.text(a.count,a.x,a.y),e.millis()-a.mark>a.wait&&(a.mark=e.millis(),a.m+=a.degree,a.count--),a.m>=360&&a.advance()},a.mouseClicked=function(e){e.dist(a.x,a.y,e.mouseX,e.mouseY);e.dist(a.x,a.y,a.w-a.offset,a.h-a.offset)},a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.advance=a.advance.bind(Object(u.a)(a)),a.degree=360/e.duration,a.count=e.duration,a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(e){this.paused=!this.paused}},{key:"advance",value:function(){this.props.callback()}},{key:"render",value:function(){return i.a.createElement(g.a,{setup:this.setup,draw:this.draw,mouseClicked:this.mouseClicked})}}]),t}(i.a.Component),b=(a(36),a(14)),y=a.n(b),w=function(e){function t(e){var a;return Object(s.a)(this,t),console.log("construct game"),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={stage:"intro",error:null,isLoaded:!1,entries:[],index:-1,vplay:!0,qlock:!1,qlockTimer:0},a.receiveAnswer=a.receiveAnswer.bind(Object(u.a)(a)),a.receiveVideoState=a.receiveVideoState.bind(Object(u.a)(a)),a.advanceQuestion=a.advanceQuestion.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("game component did mount");fetch("https://spreadsheets.google.com/feeds/list/1gFBVScKExlatL52RSngKDOLfDGNEo4GebnuHMlVhmNE/od6/public/values?alt=json").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({isLoaded:!0,entries:t.feed.entry})}),(function(t){console.log(t),e.setState({isLoaded:!0,error:t})}))}},{key:"receiveVideoState",value:function(e){switch(console.log("receive video state"),e){case 0:this.setState({vplay:!1});break;case 1:this.setState({vplay:!0})}}},{key:"receiveAnswer",value:function(e){console.log("receive answer"),e?(console.log("correct answer"),this.setState({qlock:!0,qlockTimer:5})):(console.log("wrong answer"),this.setState({qlock:!0,qlockTimer:30}))}},{key:"advanceQuestion",value:function(){console.log("advance question");var e=this.state.stage,t=this.state.index+1,a=this.state.entries[t].gsx$type.$t;"E"===a?e="end":"V"===a&&"intro"===e&&(e="quiz"),this.setState({stage:e,index:t,qlock:!1,vplay:!0})}},{key:"render",value:function(){console.log("render game");var e=this.state,t=e.stage,a=e.error,n=e.isLoaded;if(a)return i.a.createElement("div",null,"Error: ",a.message);if(n){if("quiz"===t){var o=this.state,c=o.entries,s=o.index,r=o.vplay,l=o.qlock,d=o.qlockTimer;return i.a.createElement("div",{id:"game"},i.a.createElement("div",{className:"embed-container"},i.a.createElement("div",{className:"embed-overlay"}),i.a.createElement(v,{question:c[s].gsx$question.$t,vidurl:c[s].gsx$youtube.$t,type:c[s].gsx$type.$t,callback:this.receiveVideoState}),l&&i.a.createElement(p,{duration:d,callback:this.advanceQuestion})),!r&&i.a.createElement(f,{answer:c[s].gsx$answer.$t,a:c[s].gsx$a.$t,b:c[s].gsx$b.$t,c:c[s].gsx$c.$t,d:c[s].gsx$d.$t,callback:this.receiveAnswer,lock:l,lockTimer:d}))}if("end"===t){var u=this.state,m=u.entries[u.index].gsx$question.$t;return i.a.createElement("div",{id:"end"},i.a.createElement("div",{id:"end-message"},i.a.createElement("h1",null,m)))}return i.a.createElement("div",{id:"intro"},i.a.createElement("div",{className:"vimg"}),i.a.createElement("img",{src:y.a,alt:"Ignite Freshman Retreat",onClick:this.advanceQuestion}))}return i.a.createElement("div",null,"Loading...")}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(37);c.a.render(i.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.197d991f.chunk.js.map